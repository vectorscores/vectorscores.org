name: quality

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  package:
    name: package.json
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v2
      with:
        path: repo
    - name: checkout actions
      uses: actions/checkout@v2
      with:
        repository: vectorscores/actions
        path: actions
    - name: quality check
      uses: ./actions
      with:
        cwd: ./repo
  lint:
    name: lint
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Code
      uses: actions/checkout@v2
    - name: lint
      uses: docker://github/super-linter:v3
      env:
        #VALIDATE_ALL_CODEBASE: false
        DEFAULT_BRANCH: main
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        LINTER_RULES_PATH: .
        JAVASCRIPT_ES_CONFIG_FILE: ./.eslintrc.js
        TYPESCRIPT_ES_CONFIG_FILE: ./.eslintrc.js
        VALIDATE_CSS: true
        VALIDATE_JAVASCRIPT_ES: true
        VALIDATE_JSON: true
        VALIDATE_MD: true
        VALIDATE_TYPESCRIPT_ES: true
